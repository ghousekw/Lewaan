---
import { getTranslations, type Language } from '../i18n';

// Get language from URL params or default to 'en'
const urlLang = Astro.url.searchParams.get('lang') as Language | null;
const language: Language = (urlLang === 'ar' || urlLang === 'en') ? urlLang : 'en';
const t = getTranslations(language);
---

<footer class="bg-brand-background py-8 border-t border-brand-secondary/10">
    <div class="container mx-auto px-6">
        <!-- Footer Bottom: Copyright Left, Policy Links Right -->
        <div class="flex justify-between items-center flex-wrap gap-6 text-sm rtl:flex-row-reverse">
            <!-- Copyright Left -->
            <p class="text-brand-text-primary">{t.footer.copyright}</p>

            <!-- Policy Links Right -->
            <div class="flex flex-wrap gap-4 md:gap-6 text-sm rtl:flex-row-reverse">
                <a href={`/${language}/terms-of-use`} class="text-brand-text-primary hover:text-brand-secondary transition-colors duration-300">
                    {language === 'ar' ? 'شروط الاستخدام' : 'Terms of Use'}
                </a>
                <span class="text-brand-text-primary/30">•</span>
                <a href={`/${language}/legal-notice`} class="text-brand-text-primary hover:text-brand-secondary transition-colors duration-300">
                    {language === 'ar' ? 'إشعار قانوني' : 'Legal Notice'}
                </a>
                <span class="text-brand-text-primary/30">•</span>
                <a href={`/${language}/privacy-policy`} class="text-brand-text-primary hover:text-brand-secondary transition-colors duration-300">
                    {language === 'ar' ? 'سياسة الخصوصية' : 'Privacy Policy'}
                </a>
                <span class="text-brand-text-primary/30">•</span>
                <a href={`/${language}/cookie-policy`} class="text-brand-text-primary hover:text-brand-secondary transition-colors duration-300">
                    {language === 'ar' ? 'سياسة ملفات تعريف الارتباط' : 'Cookie Policy'}
                </a>
            </div>
        </div>
    </div>
</footer>
