---
import MainLayout from '../../layouts/MainLayout.astro';
import ProjectCard from '../../components/ProjectCard.astro';
import { portfolioItems } from '../../data/portfolio';
import { getTranslations, type Language } from '../../i18n';

// Get language from route params
const { lang } = Astro.params;
const language: Language = (lang === 'ar' || lang === 'en') ? lang : 'en';
const t = getTranslations(language);

const featuredProjects = portfolioItems.slice(0, 3);

// Helper function to add lang to URLs
function langUrl(path: string, lang: Language): string {
  return `/${lang}${path}`;
}

// SEO metadata
const seo = {
  title: language === 'ar' 
    ? 'ليوان للتصميم الداخلي | خدمات التصميم الداخلي الفاخرة في الكويت'
    : 'Lewan Interior Design | Premium Interior Design Services in Kuwait',
  description: language === 'ar'
    ? 'حوّل مساحتك مع ليوان - شركة التصميم الداخلي الرائدة في الكويت منذ 2015. متخصصون في التصميم الداخلي الفاخر للمنازل والمشاريع التجارية.'
    : "Transform your space with Lewan - Kuwait's leading interior design firm since 2015. Specializing in luxury residential and commercial interiors.",
  canonicalPath: '/',
};

// Generate static paths for both languages
export function getStaticPaths() {
  return [
    { params: { lang: 'en' } },
    { params: { lang: 'ar' } },
  ];
}
---

<MainLayout language={language} seo={seo}>
  <!-- Hero Section - Enhanced with modern design -->
  <section class="relative h-screen flex items-center justify-center overflow-hidden">
    <!-- Background Image with Parallax Effect -->
    <div class="absolute inset-0 z-0">
      <img 
        src="/heroimage.webp" 
        alt="A beautiful modern living room" 
        class="w-full h-full object-cover scale-110 transition-transform duration-[20s] ease-out hero-image"
        loading="eager"
        style="min-height: 100%; min-width: 100%;"
      />
      <div class="absolute inset-0 bg-gradient-to-b from-brand-background/60 via-brand-background/30 to-brand-background/70 z-10"></div>
      <div class="absolute inset-0 bg-black/15 z-10"></div>
    </div>
    
    <!-- Hero Content -->
    <div class="relative z-10 container mx-auto px-6 text-center max-w-5xl">
      <div class="animate-fade-in-up">
        <p class="text-brand-secondary text-sm md:text-base uppercase tracking-widest mb-4 font-semibold opacity-90">
          {t.home.hero.tagline}
        </p>
        <h1 class="text-5xl md:text-7xl lg:text-8xl font-bold leading-tight mb-6 text-brand-text-secondary">
          <span class="block font-serif" style="font-family: 'Playfair Display', Georgia, 'Times New Roman', serif;">{t.home.hero.title1}</span>
          <span class="block text-brand-secondary font-serif" style="font-family: 'Playfair Display', Georgia, 'Times New Roman', serif;">{t.home.hero.title2}</span>
        </h1>
        <p class="text-lg md:text-xl lg:text-2xl mb-10 text-brand-text-primary max-w-2xl mx-auto leading-relaxed">
          {t.home.hero.description}
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
          <a 
            href={langUrl('/portfolio', language)} 
            class="group bg-brand-primary text-white font-semibold py-4 px-10 rounded-full hover:bg-brand-secondary hover:text-brand-background transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl inline-flex items-center gap-2"
          >
            <span>{t.home.hero.exploreWork}</span>
            <svg class="w-5 h-5 transform group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
          </a>
          <a 
            href={langUrl('/contact', language)} 
            class="group border-2 border-brand-text-secondary text-brand-text-secondary font-semibold py-4 px-10 rounded-full hover:bg-brand-text-secondary hover:text-brand-background transition-all duration-300 transform hover:scale-105"
          >
            {t.home.hero.getInTouch}
          </a>
        </div>
      </div>
      
      <!-- Scroll Indicator -->
      <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
        <svg class="w-6 h-6 text-brand-text-secondary opacity-70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
        </svg>
      </div>
    </div>
  </section>

  <!-- Featured Projects Section - Enhanced layout -->
  <section class="py-24 md:py-32 relative">
    <div class="container mx-auto px-6">
      <div class="text-center mb-16">
        <p class="text-brand-secondary text-sm uppercase tracking-widest mb-4 font-semibold">{t.home.portfolio.label}</p>
        <h2 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-4 text-brand-text-secondary">
          {t.home.portfolio.title}
        </h2>
        <p class="text-lg md:text-xl mt-4 text-brand-text-primary max-w-2xl mx-auto">
          {t.home.portfolio.description}
        </p>
        <div class="w-24 h-1 bg-brand-secondary mx-auto mt-6"></div>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-10">
        {featuredProjects.map((project) => {
          // Translation mapping for project titles and descriptions
          const projectTranslations = {
            'reception': {
              en: { title: 'Reception', description: 'A welcoming and elegant reception area designed to make a lasting first impression.' },
              ar: { title: 'الاستقبال', description: 'منطقة استقبال ترحيبية وأنيقة مصممة لترك انطباع أول دائم.' }
            },
            'deewaniya-mughallath': {
              en: { title: 'Deewaniya & Mughallath', description: 'Traditional Arabic gathering spaces with modern elegance and cultural authenticity.' },
              ar: { title: 'الديوانية والمقلث', description: 'مساحات تجمع عربية تقليدية بأناقة عصرية وأصالة ثقافية.' }
            },
            'living-hall': {
              en: { title: 'Living Hall', description: 'A spacious and comfortable living area designed for family gatherings and relaxation.' },
              ar: { title: 'صالة المعيشة', description: 'منطقة معيشة واسعة ومريحة مصممة لتجمعات الأسرة والاسترخاء.' }
            },
          };
          
          const translation = projectTranslations[project.slug]?.[language] || { title: project.title, description: project.description };
          
          return (
            <ProjectCard 
              imageUrl={project.thumbnail}
              title={translation.title}
              description={translation.description}
              link={langUrl(`/portfolio/${project.slug}`, language)}
            />
          );
        })}
      </div>
      
      <div class="text-center mt-12">
        <a 
          href={langUrl('/portfolio', language)} 
          class="inline-flex items-center gap-2 text-brand-secondary hover:text-brand-primary font-semibold transition-colors duration-300 group"
        >
          <span>{t.home.portfolio.viewAll}</span>
          <svg class="w-5 h-5 transform group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- About Us Section - Redesigned with visual elements -->
  <section class="py-24 md:py-32 bg-brand-background relative overflow-hidden">
    <!-- Decorative Background Elements -->
    <div class="absolute top-0 right-0 w-96 h-96 bg-brand-primary/5 rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 left-0 w-96 h-96 bg-brand-secondary/5 rounded-full blur-3xl"></div>
    
    <div class="container mx-auto px-6 relative z-10">
      <div class="max-w-6xl mx-auto">
        <div class="text-center mb-16">
          <p class="text-brand-secondary text-sm uppercase tracking-widest mb-4 font-semibold">{t.home.about.label}</p>
          <h2 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6 text-brand-text-secondary">
            {t.home.about.title}
          </h2>
          <div class="w-24 h-1 bg-brand-secondary mx-auto"></div>
        </div>
        
        <div class="grid md:grid-cols-2 gap-12 items-center">
          <div class="space-y-6">
            <p class="text-lg md:text-xl leading-relaxed text-brand-text-primary">
              {t.home.about.description1}
            </p>
            <p class="text-lg leading-relaxed text-brand-text-primary">
              {t.home.about.description2}
            </p>
            <div class="grid grid-cols-2 gap-6 pt-6">
              <div class="border-l-2 border-brand-secondary pl-4 rtl:border-l-0 rtl:border-r-2 rtl:pl-0 rtl:pr-4">
                <p class="text-3xl font-bold text-brand-secondary mb-1">1,238</p>
                <p class="text-brand-text-primary">{t.home.about.stats.projects}</p>
              </div>
              <div class="border-l-2 border-brand-secondary pl-4 rtl:border-l-0 rtl:border-r-2 rtl:pl-0 rtl:pr-4">
                <p class="text-3xl font-bold text-brand-secondary mb-1">760</p>
                <p class="text-brand-text-primary">{t.home.about.stats.clients}</p>
              </div>
              <div class="border-l-2 border-brand-secondary pl-4 rtl:border-l-0 rtl:border-r-2 rtl:pl-0 rtl:pr-4">
                <p class="text-3xl font-bold text-brand-secondary mb-1">24</p>
                <p class="text-brand-text-primary">{t.home.about.stats.experience}</p>
              </div>
              <div class="border-l-2 border-brand-secondary pl-4 rtl:border-l-0 rtl:border-r-2 rtl:pl-0 rtl:pr-4">
                <p class="text-3xl font-bold text-brand-secondary mb-1">460</p>
                <p class="text-brand-text-primary">{t.home.about.stats.awards}</p>
              </div>
            </div>
          </div>
          <div class="relative">
            <div class="rounded-2xl overflow-hidden shadow-2xl flex items-center justify-center bg-brand-background/20">
              <img 
                src="/About.webp" 
                alt="Interior design workspace" 
                class="max-w-full max-h-[500px] w-auto h-auto object-contain hover:scale-105 transition-transform duration-700"
              />
            </div>
            <div class="absolute -bottom-6 -right-6 w-32 h-32 bg-brand-secondary/20 rounded-full blur-xl"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Why Choose Us Section -->
  <section class="py-24 md:py-32 bg-[#112240] relative overflow-hidden">
    <div class="absolute top-0 right-0 w-96 h-96 bg-brand-primary/5 rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 left-0 w-96 h-96 bg-brand-secondary/5 rounded-full blur-3xl"></div>
    
    <div class="container mx-auto px-6 relative z-10">
      <div class="max-w-6xl mx-auto">
        <div class="text-center mb-16">
          <p class="text-brand-secondary text-sm uppercase tracking-widest mb-4 font-semibold">{t.home.whyChooseUs.label}</p>
          <h2 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6 text-brand-text-secondary">
            {t.home.whyChooseUs.title}
          </h2>
          <p class="text-lg md:text-xl text-brand-text-primary max-w-3xl mx-auto mb-4">
            {t.home.whyChooseUs.description}
          </p>
          <div class="w-24 h-1 bg-brand-secondary mx-auto"></div>
        </div>
        
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          <div class="bg-brand-background/50 p-8 rounded-2xl border border-brand-secondary/20 hover:border-brand-secondary/50 transition-all duration-300">
            <div class="w-12 h-12 bg-brand-secondary/20 rounded-lg flex items-center justify-center mb-4">
              <svg class="w-6 h-6 text-brand-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
              </svg>
            </div>
            <h3 class="text-xl font-bold text-brand-text-secondary mb-3">{t.home.whyChooseUs.reasons.creative.title}</h3>
            <p class="text-brand-text-primary">{t.home.whyChooseUs.reasons.creative.description}</p>
          </div>

          <div class="bg-brand-background/50 p-8 rounded-2xl border border-brand-secondary/20 hover:border-brand-secondary/50 transition-all duration-300">
            <div class="w-12 h-12 bg-brand-secondary/20 rounded-lg flex items-center justify-center mb-4">
              <svg class="w-6 h-6 text-brand-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>
            <h3 class="text-xl font-bold text-brand-text-secondary mb-3">{t.home.whyChooseUs.reasons.availability.title}</h3>
            <p class="text-brand-text-primary">{t.home.whyChooseUs.reasons.availability.description}</p>
          </div>

          <div class="bg-brand-background/50 p-8 rounded-2xl border border-brand-secondary/20 hover:border-brand-secondary/50 transition-all duration-300">
            <div class="w-12 h-12 bg-brand-secondary/20 rounded-lg flex items-center justify-center mb-4">
              <svg class="w-6 h-6 text-brand-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.856-1.487M15 10a3 3 0 11-6 0 3 3 0 016 0z"></path>
              </svg>
            </div>
            <h3 class="text-xl font-bold text-brand-text-secondary mb-3">{t.home.whyChooseUs.reasons.expert.title}</h3>
            <p class="text-brand-text-primary">{t.home.whyChooseUs.reasons.expert.description}</p>
          </div>

          <div class="bg-brand-background/50 p-8 rounded-2xl border border-brand-secondary/20 hover:border-brand-secondary/50 transition-all duration-300">
            <div class="w-12 h-12 bg-brand-secondary/20 rounded-lg flex items-center justify-center mb-4">
              <svg class="w-6 h-6 text-brand-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m7 8a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>
            <h3 class="text-xl font-bold text-brand-text-secondary mb-3">{t.home.whyChooseUs.reasons.quality.title}</h3>
            <p class="text-brand-text-primary">{t.home.whyChooseUs.reasons.quality.description}</p>
          </div>

          <div class="bg-brand-background/50 p-8 rounded-2xl border border-brand-secondary/20 hover:border-brand-secondary/50 transition-all duration-300">
            <div class="w-12 h-12 bg-brand-secondary/20 rounded-lg flex items-center justify-center mb-4">
              <svg class="w-6 h-6 text-brand-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10L4 11"></path>
              </svg>
            </div>
            <h3 class="text-xl font-bold text-brand-text-secondary mb-3">{t.home.whyChooseUs.reasons.complete.title}</h3>
            <p class="text-brand-text-primary">{t.home.whyChooseUs.reasons.complete.description}</p>
          </div>

          <div class="bg-brand-background/50 p-8 rounded-2xl border border-brand-secondary/20 hover:border-brand-secondary/50 transition-all duration-300">
            <div class="w-12 h-12 bg-brand-secondary/20 rounded-lg flex items-center justify-center mb-4">
              <svg class="w-6 h-6 text-brand-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h-2m0 0H8m4 0v2m0-2v-2m0 2h2m-2 0h-2"></path>
              </svg>
            </div>
            <h3 class="text-xl font-bold text-brand-text-secondary mb-3">{t.home.whyChooseUs.reasons.satisfaction.title}</h3>
            <p class="text-brand-text-primary">{t.home.whyChooseUs.reasons.satisfaction.description}</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</MainLayout>
